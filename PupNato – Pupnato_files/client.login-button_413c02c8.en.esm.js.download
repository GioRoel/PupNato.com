import{d as n,ai as i,aj as t,h as o,b as e,a6 as s,ak as l,aa as a,ab as r,al as h,_ as d,am as c,F as p,G as f,z as u,B as m,C as w,g,an as v,w as b,ao as y,A as _,ap as x,aq as k,v as $,i as S,ar as M,as as W,O as E,at as C,M as z,I as A,P as B,j as F,k as N,H as T,au as U,av as q,m as I,c as D,p as L,ad as P,ah as j,q as H,E as O,af as R,s as Y,t as V,$ as J,a0 as Q}from"./chunk.common_7fe671d8.esm.js";class G extends HTMLElement{constructor(){super();const n=document.createElement("template"),t=this.getAttribute("size"),o=this.getAttribute("background-color")||"#FFF";n.innerHTML=function(n=36,t){const[o,e,s]=i(t),l=`rgb(${o}, ${e}, ${s})`,a=1.15,r=n,h=Math.round(r/a);return`\n    <style>\n      .shop-swirl {\n        height: ${r}px;\n        width: ${h}px;\n        vertical-align: middle;\n      }\n    </style>\n    <svg class="shop-swirl" viewBox="0 0 22 25" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path d="M9.43 0C4.607 0 2.2 1.63.266 2.952L.21 2.99a.476.476 0 0 0-.146.632l1.91 3.291a.486.486 0 0 0 .327.235.5.5 0 0 0 .398-.104l.15-.127c.995-.832 2.586-1.957 6.441-2.25 2.146-.174 4.005.404 5.372 1.666 1.503 1.386 2.4 3.626 2.4 5.991 0 4.348-2.56 7.084-6.68 7.14-3.391-.02-5.67-1.788-5.67-4.404 0-1.399.651-2.306 1.884-3.216a.437.437 0 0 0 .124-.554L4.995 8.03a.493.493 0 0 0-.685-.193C2.386 8.98.03 11.067.155 15.077c.156 5.111 4.403 9.009 9.921 9.168h.63C17.268 24.034 22 19.166 22 12.576 22.01 6.474 17.6 0 9.43 0z" fill="${l}" />\n    </svg>\n  `}(t?Number.parseInt(t,10):void 0,o),this.attachShadow({mode:"open"}).appendChild(n.content.cloneNode(!0))}}function K(){const n=document.createElement("div"),i=n.attachShadow({mode:"open"});return n.style.setProperty("all","initial"),{withInnerHTML(n){return i.innerHTML=n,this},build(){const o=t();return i.appendChild(o),document.body.appendChild(n),{get sheetModal(){return o},destroy(){n.remove()}}}}}var X,Z,nn,tn,on,en,sn,ln,an,rn,hn,dn,cn,pn,fn;const un="shop-modal-content";class mn extends HTMLElement{constructor(){super(),X.add(this),Z.set(this,void 0),nn.set(this,void 0),tn.set(this,void 0),on.set(this,void 0),en.set(this,void 0),sn.set(this,void 0),ln.set(this,void 0),an.set(this,void 0),rn.set(this,void 0),hn.set(this,void 0),dn.set(this,{});const n=document.createElement("template");n.innerHTML=`\n    <style>\n      .${un} {\n        border-bottom: 1px solid #D9D9D9;\n        padding-bottom: 20px;\n        text-align: center;\n        margin: 0 20px;\n      }\n\n      .${un}--small {\n        padding-bottom: 7px;\n      }\n\n      .${un}.hide-divider {\n        border-bottom-color: transparent;\n      }\n\n      .${un}-title {\n        font-size: 20px;\n        font-weight: 600;\n        line-height: 25px;\n        letter-spacing: -0.2px;\n        color: #000000;\n        margin-bottom: 8px;\n      }\n\n      .${un}-description {\n        font-size: 14px;\n        font-weight: 400;\n        color: #0F1721;\n        letter-spacing: 0px;\n      }\n\n      .${un}-processing {\n        min-height: 97px;\n        margin: 0 20px;\n      }\n\n      .${un}-processing-user {\n        padding: 15px 0;\n        min-height: 15px;\n        font-size: 12px;\n        color: #0F1721;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        -webkit-font-smoothing: antialiased;\n        -webkit-text-size-adjust: 100%;\n        font-family: -apple-system, BlinkMacSystemFont, San Francisco, Roboto, Segoe UI, Helvetica Neue, sans-serif !important;\n      }\n\n      .${un}-disclaimer {\n        font-size: 12px;\n        line-height: 1.4;\n        text-align: center;\n        color: rgb(63, 69, 77);\n        padding: 8px 0 5px;\n        margin: 0 20px;\n      }\n\n      .${un}-disclaimer a {\n        color: ${s.brand};\n        -webkit-appearance: none;\n        appearance: none;\n        text-decoration: none;\n        cursor: pointer;\n      }\n\n      .${un}-disclaimer a:hover,\n      .${un}-disclaimer a:focus,\n      .${un}-disclaimer a:active {\n        outline: none;\n        color: #7b61f0;\n      }\n\n      @media (forced-colors: active) {\n        .${un}.hide-divider {\n          border-bottom: none;\n        }\n      }\n\n      .hidden {\n        display: none;\n      }\n    </style>\n    <div class="${un} hidden">\n      <h2 class="${un}-title hidden"></h2>\n      <div class="${un}-description hidden"></div>\n    </div>\n    <div class="${un}-content hidden">\n      <div class="${un}-processing hidden">\n        <div class="${un}-processing-user"></div>\n        <div class="${un}-processing-status"></div>\n      </div>\n      <div class="${un}-children hidden">\n        <slot></slot>\n      </div>\n      <div class="${un}-disclaimer hidden"></div>\n    </div>\n  `,o(this,Z,this.attachShadow({mode:"open"}),"f"),e(this,Z,"f").appendChild(n.content.cloneNode(!0)),o(this,nn,e(this,Z,"f").querySelector(`.${un}`),"f"),o(this,tn,e(this,Z,"f").querySelector(`.${un}-title`),"f"),o(this,on,e(this,Z,"f").querySelector(`.${un}-description`),"f"),o(this,en,e(this,Z,"f").querySelector(`.${un}-content`),"f"),o(this,sn,e(this,Z,"f").querySelector(`.${un}-processing`),"f"),o(this,ln,e(this,Z,"f").querySelector(`.${un}-processing-user`),"f"),o(this,rn,e(this,Z,"f").querySelector(`.${un}-children`),"f"),o(this,hn,e(this,Z,"f").querySelector(`.${un}-disclaimer`),"f")}hideDivider(){e(this,nn,"f").classList.add("hide-divider")}showDivider(){e(this,nn,"f").classList.remove("hide-divider")}update(n){o(this,dn,Object.assign(Object.assign({},e(this,dn,"f")),n),"f"),e(this,X,"m",cn).call(this),e(this,X,"m",pn).call(this),e(this,X,"m",fn).call(this)}}function wn(n,i=!1){const t=document.createElement("shop-modal-content");return i&&t.hideDivider(),t.update(n),t}Z=new WeakMap,nn=new WeakMap,tn=new WeakMap,on=new WeakMap,en=new WeakMap,sn=new WeakMap,ln=new WeakMap,an=new WeakMap,rn=new WeakMap,hn=new WeakMap,dn=new WeakMap,X=new WeakSet,cn=function(){const{title:n,description:i,authorizeState:t}=e(this,dn,"f"),o=n||i;e(this,nn,"f").classList.toggle("hidden",!o),e(this,tn,"f").classList.toggle("hidden",!n),e(this,on,"f").classList.toggle("hidden",!i),e(this,tn,"f").textContent=n||"",e(this,on,"f").textContent=i||"",t&&(e(this,nn,"f").classList.toggle("hide-divider",t===l.Start),e(this,nn,"f").classList.toggle(`${un}--small`,t===l.Start))},pn=function(){var n;const{authorizeState:i,status:t,email:s}=e(this,dn,"f"),h=Boolean(i||t),d=Boolean(t&&s),c=Boolean(h&&!d);if(e(this,en,"f").classList.toggle("hidden",!h),e(this,sn,"f").classList.toggle("hidden",!d),e(this,rn,"f").classList.toggle("hidden",!c),!e(this,an,"f")&&d){const t=i===l.OneClick?a.Branded:a.Regular;o(this,an,r(t),"f"),e(this,sn,"f").appendChild(e(this,an,"f")),null===(n=e(this,an,"f"))||void 0===n||n.setStatus({status:"loading",message:""})}e(this,ln,"f").textContent=s||""},fn=function(){const{disclaimer:n}=e(this,dn,"f"),i=Boolean(n);e(this,hn,"f").classList.toggle("hidden",!i),e(this,hn,"f").innerHTML=n||""},customElements.get("shop-modal-content")||customElements.define("shop-modal-content",mn);const gn="following";class vn extends HTMLElement{constructor(){super(),this.s_a=null,this.s_b=null,this.s_c=null,this.s_d=null,this.s_e=null,this.s_f=null,this.s_g=null,this.s_h=0,this.s_i=0,customElements.get("shop-logo")||customElements.define("shop-logo",h)}connectedCallback(){return d(this,void 0,void 0,(function*(){yield this.s_j(),this.s_k()}))}setFollowing({following:n=!0,skipAnimation:i=!1}){var t,o,e,s,l;null===(t=this.s_b)||void 0===t||t.classList.toggle("button--animating",!i),null===(o=this.s_b)||void 0===o||o.classList.toggle("button--following",n),null!==this.s_e&&null!==this.s_f&&(this.s_e.ariaHidden=n?"true":"false",this.s_f.ariaHidden=n?"false":"true"),this.style.setProperty("--button-width",`${n?this.s_i:this.s_h}px`),window.matchMedia("(prefers-reduced-motion: reduce)").matches||i?null===(e=this.s_d)||void 0===e||e.setFilled(n):null===(l=null===(s=this.s_b)||void 0===s?void 0:s.querySelector(".follow-text"))||void 0===l||l.addEventListener("transitionend",(()=>{var i;null===(i=this.s_d)||void 0===i||i.setFilled(n)}))}setFocused(){var n;null===(n=this.s_b)||void 0===n||n.focus()}s_j(){return d(this,void 0,void 0,(function*(){try{const n="en",i={follow_on_shop:{follow:"Follow on {shop}",following:"Following on {shop}",auth_modal:{title:"Follow on Shop",description:"Stay in the know—never miss a sale, restock, or order update."},following_modal:{title:"Visit {store} on Shop",subtitle:"Everything you need to shop, track, and pay—all in one place.",qr_header:"Scan to visit {store} on the Shop app",qr_alt_text:"Shop app QR code",continue:"Continue"},completed:{title:"You're following {store}",subtitle:"We've sent you an email with a link to download the Shop app."},personalization_consent:{title:"To follow on Shop, sync your shopping activity"}},login_with_shop:{login:"Sign in with {shop}",auth_modal:{login_title:"Sign in with Shop",login_title_with_store:"Sign in to {store} with Shop",login_description:"The easiest and most secure way to sign in to {store}—no password needed.",signup_title:"Create an account",signup_description:"Enter your phone number to create a Shop account.",login_sms_title:"Confirm it's you",login_sms_description:"Enter the code sent to {phoneNumber}",login_email_title:"Confirm it’s you",login_email_description:"Enter the code sent to your email, {email}",login_email_footer:"By continuing, your email address will be shared with {store}.",login_webauthn_title:"Confirm it’s you",login_webauthn_description:"Sign in with a passkey to securely use your saved information.",login_webauthn_footer:"By continuing, your email address will be shared with {store}."}},verified_email_auth:{auth_modal:{login_title:"Log in or sign up",signup_title:"Continue with Shop",signup_description:"Create a Shop account to sign in to {clientName}–no passwords needed"}},legal:{terms_of_service:"terms of service",privacy_policy:"privacy policy",terms:"terms",client:"See {clientName}’s {termsOfService} and {privacyPolicy}.",shop:"By continuing, you agree to Shop’s {termsOfService} and acknowledge the {privacyPolicy}.",authorized_scopes:{email:"By continuing, your email address will be shared with {store}.",email_name:"By continuing, your name and email address will be shared with {store}."}},checkout_modal:{auth_modal:{login_sms_description:"Enter the code sent to {phoneNumber} to securely use your saved information.",login_email_description:"Enter the code sent to your email, {email} to securely use your saved information."}},customer_accounts:{remember_me:"Save my info securely with Shop to sign in faster everywhere",sign_up_page:{auth_modal:{login_title:"Continue with Shop",login_description:"Use your Shop account to sign in everywhere—no password needed.",login_sms_description:"Use your Shop account to sign in everywhere—no password needed.\r\n\r\nConfirm it's you, enter the code sent to {phoneNumber}",login_email_description:"Use your Shop account to sign in everywhere—no password needed.\r\n\r\nConfirm it's you, enter the code sent to your email, {email}",login_webauthn_title:"Continue with Shop",login_webauthn_description:"Sign in with a passkey to securely use your saved information."}}},payment_request:{auth_modal:{login_title:"Check out with Shop Pay",login_description:"Use your saved information to check out securely at {store}.",login_sms_title:"Confirm it's you",login_sms_description:"Enter the code sent to {phoneNumber} to securely use your saved information.",login_email_title:"Confirm it’s you",login_email_description:"Enter the code sent to your email, {email} to securely use your saved information."}}};this.s_g=new u({[n]:i})}catch(n){n instanceof Error&&m.notify(n)}return null}))}s_k(){var n,i,t,o;const e=document.createElement("template");if(e.innerHTML=`\n    <style>\n      @keyframes followBackground {\n        0% {\n          width: 100%;\n          height: 100%;\n          transform: scaleY(1);\n        }\n\n        25% {\n          transform: scaleY(1);\n        }\n\n        50% {\n          transform: scaleY(1.2);\n        }\n\n        100% {\n          transform: scaleY(1);\n          width: 37px;\n          height: 37px;\n        }\n      }\n\n      :host {\n        display: inline-block;\n        line-height: normal;\n\n        --following-text-color: #000000;\n        --border-color: #5433EB;\n        --border-hover-color: #7f68e9;\n        --parent-width: var(--reserved-width, 177px);\n\n        /* Reserve width to prevent layout shifts */\n        width: var(--parent-width);\n      }\n\n      .button {\n        border: none;\n        margin: 0;\n        padding: 0;\n        overflow: visible;\n        isolation: isolate;\n\n        background: transparent;\n        color: #ffffff;\n        font: 16px/19px -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica;\n\n        line-height: normal;\n\n        -webkit-font-smoothing: inherit;\n        -moz-osx-font-smoothing: inherit;\n\n        -webkit-appearance: none;\n        position: relative;\n        display: inline-block;\n        align-items: center;\n\n        height: 37px;\n        width: var(--button-width, 100%);\n        border-radius: 48px;\n      }\n\n      .button:focus,\n      .button:focus-visible {\n        outline: none;\n      }\n\n      .button--dark {\n        --following-text-color: #ffffff;\n      }\n\n      .button--bordered {\n        --border-color: #EDEDED;\n        --border-hover-color: #EDEDED;\n      }\n\n      .follow-icon-wrapper {\n        display: flex;\n        align-items: center;\n        width: auto;\n        position: relative;\n        z-index: 1;\n        top: 0;\n        left: 0;\n      }\n\n      .follow-icon-wrapper:before {\n        content: '';\n        background: #5433EB;\n        border-radius: 48px;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        left: 0;\n        position: absolute;\n        z-index: -1;\n        transform-origin: center;\n        box-sizing: border-box;\n        border: 1px solid var(--border-color);\n      }\n\n      .button:not(.button--following):focus-visible .follow-icon-wrapper:before,\n      .button:not(.button--following):hover .follow-icon-wrapper:before {\n        background: #7f68e9;\n        border-color: var(--border-hover-color);\n      }\n\n      .follow-icon-wrapper shop-heart-icon {\n        position: absolute;\n        top: 11px;\n        left: 12px;\n      }\n\n      .follow-text,\n      .following-text {\n        white-space: nowrap;\n        padding: 9px 11px 9px 35px;\n        cursor: pointer;\n      }\n\n      .follow-text shop-logo,\n      .following-text shop-logo {\n        position: relative;\n        top: 3px;\n        padding-left: 1px;\n      }\n\n      .following-text {\n        opacity: 0;\n        pointer-events: none;\n        color: var(--following-text-color);\n        padding: 9px 8px 9px 43px;\n        position: absolute;\n        top: 0;\n        left: 0;\n        box-sizing: border-box;\n        overflow: hidden;\n        max-width: var(--button-width);\n      }\n\n      .following-icon {\n        opacity: 0;\n      }\n\n      .button--following .follow-icon-wrapper:before {\n        position: absolute;\n        width: 37px;\n        height: 37px;\n        padding: 0;\n      }\n\n      .button--following:focus-visible,\n      .button--following:hover {\n        background: rgb(217 217 217 / 0.2);\n      }\n\n      .button--following .follow-text,\n      .button--following .follow-icon {\n        opacity: 0;\n      }\n\n      .button--following .following-text {\n        opacity: 1;\n        width: auto;\n        pointer-events: auto;\n      }\n\n      .button--following .following-icon {\n        opacity: 1;\n      }\n\n      .button--following .follow-icon-wrapper shop-heart-icon {\n        transform: translateX(-1.5px);\n      }\n\n      @media (prefers-reduced-motion: no-preference) {\n        .button--animating {\n          transition: 400ms width cubic-bezier(0.45, 0, 0.15, 1);\n        }\n\n        .button--animating .follow-text {\n          transition: 200ms opacity cubic-bezier(0.45, 0, 1, 1);\n        }\n\n        .button--animating .following-text {\n          transition: 200ms opacity cubic-bezier(0, 0, 0.15, 1);\n          transition-delay: 0.2s;\n        }\n\n        .button--animating.button--following .follow-icon-wrapper:before {\n          animation: followBackground 0.4s cubic-bezier(0.45, 0, 0.15, 1);\n        }\n\n        .button--animating.button--following .follow-icon-wrapper shop-heart-icon {\n          transition: 400ms transform cubic-bezier(0.45, 0, 0.15, 1);\n        }\n      }\n    </style>\n    <button class="button">\n      <span class="follow-icon-wrapper">\n        <span class="follow-text">\n          <slot name="follow-text">\n            Follow on ${bn("white")}\n          </slot>\n        </span>\n      </span>\n\n      <span class="following-text" aria-hidden="true">\n        <slot name="following-text">\n          Following on ${bn("black")}\n        </slot>\n      </span>\n    </button>\n  `,this.s_a=this.attachShadow({mode:"open"}),this.s_a.appendChild(e.content.cloneNode(!0)),this.s_g){const n=this.s_g.translate("follow_on_shop.follow",{shop:bn("white")}),i=this.s_g.translate("follow_on_shop.following",{shop:bn("black")});this.s_a.querySelector('slot[name="follow-text"]').innerHTML=n,this.s_a.querySelector('slot[name="following-text"]').innerHTML=i}this.s_b=this.s_a.querySelector(".button"),this.s_c=this.s_b.querySelector(".follow-icon-wrapper"),this.s_e=null===(n=this.s_a)||void 0===n?void 0:n.querySelector("span.follow-text"),this.s_f=null===(i=this.s_a)||void 0===i?void 0:i.querySelector("span.following-text"),this.s_d=c(),this.s_c.prepend(this.s_d),this.s_h=(null===(t=this.s_a.querySelector(".follow-text"))||void 0===t?void 0:t.scrollWidth)||0,this.s_i=(null===(o=this.s_a.querySelector(".following-text"))||void 0===o?void 0:o.scrollWidth)||0,this.style.setProperty("--reserved-width",`${Math.max(this.s_h,this.s_i)}px`),this.setFollowing({following:this.hasAttribute(gn),skipAnimation:!0}),this.s_l()}s_l(){var n,i;const t=p(this),o=f(t,"#ffffff")>f(t,"#000000"),e=f(t,"#5433EB")<=3.06;if(null===(n=this.s_b)||void 0===n||n.classList.toggle("button--dark",o),null===(i=this.s_b)||void 0===i||i.classList.toggle("button--bordered",e),o&&this.s_g){const n=this.s_g.translate("follow_on_shop.following",{shop:bn("white")});this.s_a.querySelector('slot[name="following-text"]').innerHTML=n}}}function bn(n){return`<shop-logo role="img" color=${n} size="15" style="display: inline-flex;" aria-label="Shop"></shop-logo>`}var yn,_n,xn,kn,$n,Sn,Mn,Wn,En,Cn;customElements.get("follow-on-shop-button")||customElements.define("follow-on-shop-button",vn);const zn="store-logo";class An extends HTMLElement{constructor(){super(),yn.add(this),_n.set(this,void 0),xn.set(this,void 0),kn.set(this,void 0),$n.set(this,void 0),Sn.set(this,void 0),Mn.set(this,void 0),Wn.set(this,""),En.set(this,"");const n=document.createElement("template");n.innerHTML=`\n    <style>\n      @keyframes heartBeat {\n        0% {\n          transform: scale(1);\n        }\n\n        25% {\n          transform: scale(1.12);\n        }\n\n        50% {\n          transform: scale(0.9);\n        }\n\n        70% {\n          transform: scale(1);\n        }\n      }\n\n      :host {\n        display: flex;\n        justify-content: center;\n        font-family: -apple-system,San Francisco,Roboto,Segoe UI,Helvetica Neue,sans-serif !important;\n      }\n\n      .${zn} {\n        display: inline-block;\n        position: relative;\n      }\n\n      .${zn}-logo-wrapper {\n        width: 58px;\n        height: 58px;\n        border-radius: 100%;\n        background: linear-gradient(0deg, rgba(0, 0, 0, 0.04), rgba(0, 0, 0, 0.04)), #FFFFFF;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        position: relative;\n        overflow: hidden;\n        box-sizing: border-box;\n      }\n\n      .${zn}-logo-wrapper--text {\n        background: ${s.foregroundSecondary};\n      }\n\n      .${zn}-logo-wrapper--text img,\n      .${zn}-logo-wrapper--image span {\n        display: none;\n      }\n\n      .${zn}-logo-wrapper--text span,\n      .${zn}-logo-wrapper--image img {\n        display: block;\n      }\n\n      .${zn}-logo-wrapper img {\n        max-width: 100%;\n        max-height: 100%;\n        object-fit: contain;\n      }\n\n      .${zn}-icon-wrapper {\n        position: absolute;\n        top: -16px;\n        left: 28px;\n        width: 36px;\n        height: 36px;\n        border-radius: 100%;\n        background: rgba(40, 40, 40, 0.3);\n        /* Note: backdrop-filter has minimal browser support */\n        -webkit-backdrop-filter: blur(24px);\n        backdrop-filter: blur(24px);\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        box-sizing: border-box;\n      }\n\n      .${zn}-text {\n        font-size: 28px;\n        line-height: 32px;\n        font-weight: 500;\n        color: ${s.white};\n        text-transform: capitalize;\n      }\n\n      .${zn}--favorited .${zn}-icon-wrapper {\n        background: ${s.brand};\n      }\n\n      @media (forced-colors: active) {\n        .${zn}-logo-wrapper--text,\n        .${zn}-icon-wrapper {\n          border: 1px solid;\n        }\n      }\n\n      @media (prefers-reduced-motion: no-preference) {\n        .${zn}-icon-wrapper {\n          transition: background 0.1s 0.75s cubic-bezier(0.45, 0, 0.15, 1);\n        }\n\n        .${zn}--favorited shop-heart-icon {\n          transform-origin: center;\n          animation: 0.4s cubic-bezier(0.45, 0, 0.15, 1) 0.75s heartBeat;\n        }\n      }\n    </style>\n    <div class="${zn}">\n      <div class="${zn}-logo-wrapper">\n        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8z/C/HgAGgwJ/lK3Q6wAAAABJRU5ErkJggg==" alt="" class="${zn}-image">\n        <span class="${zn}-text"></span>\n      </div>\n      <div class="${zn}-icon-wrapper"></div>\n    </div>\n  `,o(this,_n,this.attachShadow({mode:"open"}),"f"),e(this,_n,"f").appendChild(n.content.cloneNode(!0)),o(this,xn,e(this,_n,"f").querySelector(`.${zn}`),"f"),o(this,kn,e(this,_n,"f").querySelector(`.${zn}-logo-wrapper`),"f"),o(this,$n,e(this,kn,"f").querySelector("img"),"f"),o(this,Sn,e(this,kn,"f").querySelector("span"),"f"),o(this,Mn,c(),"f"),e(this,_n,"f").querySelector(`.${zn}-icon-wrapper`).append(e(this,Mn,"f"))}update({name:n,logoSrc:i}){o(this,Wn,n||e(this,Wn,"f"),"f"),o(this,En,i||e(this,En,"f"),"f"),e(this,yn,"m",Cn).call(this)}connectedCallback(){e(this,$n,"f").addEventListener("error",(()=>{o(this,En,"","f"),e(this,yn,"m",Cn).call(this)}))}setFavorited(){return e(this,xn,"f").classList.add(`${zn}--favorited`),window.matchMedia("(prefers-reduced-motion: reduce)").matches?(e(this,Mn,"f").setFilled(),Promise.resolve()):new Promise((n=>{e(this,Mn,"f").addEventListener("animationstart",(()=>{e(this,Mn,"f").setFilled()})),e(this,Mn,"f").addEventListener("animationend",(()=>{setTimeout(n,1e3)}))}))}}var Bn,Fn,Nn,Tn,Un,qn,In,Dn,Ln,Pn,jn,Hn,On,Rn,Yn,Vn,Jn,Qn,Gn,Kn,Xn,Zn,ni,ii,ti,oi,ei,si,li,ai,ri,hi,di,ci,pi,fi,ui,mi,wi,gi,vi,bi,yi,_i,xi,ki,$i,Si,Mi;_n=new WeakMap,xn=new WeakMap,kn=new WeakMap,$n=new WeakMap,Sn=new WeakMap,Mn=new WeakMap,Wn=new WeakMap,En=new WeakMap,yn=new WeakSet,Cn=function(){const n=e(this,Wn,"f"),i=e(this,$n,"f").src;e(this,Sn,"f").textContent=n.charAt(0),e(this,Sn,"f").ariaLabel=n,e(this,En,"f")&&e(this,En,"f")!==i?(e(this,$n,"f").src=e(this,En,"f"),e(this,$n,"f").alt=n,e(this,kn,"f").classList.remove(`${zn}-logo-wrapper--text`),e(this,kn,"f").classList.add(`${zn}-logo-wrapper--image`)):e(this,En,"f")||(e(this,kn,"f").classList.remove(`${zn}-logo-wrapper--image`),e(this,kn,"f").classList.add(`${zn}-logo-wrapper--text`))},customElements.get(zn)||customElements.define(zn,An),function(n){n.Closed="closed",n.Mounting="mounting",n.Open="open"}(Mi||(Mi={}));const Wi="shop_followed";class Ei extends w{constructor(){super(),Bn.add(this),Fn.set(this,void 0),Nn.set(this,g()),Tn.set(this,""),Un.set(this,"2"),qn.set(this,window.location.origin),In.set(this,!1),Dn.set(this,new v({elementName:"shop-follow-button",analyticsTraceId:e(this,Nn,"f")})),Ln.set(this,void 0),Pn.set(this,void 0),jn.set(this,!1),Hn.set(this,null),On.set(this,void 0),Rn.set(this,void 0),Yn.set(this,void 0),Vn.set(this,void 0),Jn.set(this,void 0),Qn.set(this,void 0),Gn.set(this,void 0),Kn.set(this,void 0),Xn.set(this,void 0),Zn.set(this,Mi.Closed),ni.set(this,void 0),ii.set(this,void 0),ti.set(this,void 0),oi.set(this,null),ei.set(this,(()=>{e(this,Bn,"m",ui).call(this,!0)})),o(this,Fn,this.attachShadow({mode:"open"}),"f"),o(this,jn,"true"===b(Wi),"f")}static get observedAttributes(){return[y,_,x,k]}attributeChangedCallback(n,i,t){switch(n){case _:o(this,Un,t,"f"),e(this,Bn,"m",ui).call(this);break;case y:o(this,Tn,t,"f"),e(this,Bn,"m",ui).call(this);break;case x:o(this,qn,t,"f"),$(e(this,qn,"f"));break;case k:o(this,In,"true"===t,"f"),e(this,Bn,"m",ui).call(this)}}connectedCallback(){return d(this,void 0,void 0,(function*(){this.subscribeToHub(S.UserStatusIdentity,e(this,ei,"f")),yield e(this,Bn,"m",si).call(this),e(this,Bn,"m",li).call(this),e(this,Bn,"m",ai).call(this)}))}disconnectedCallback(){var n,i,t,o;this.unsubscribeAllFromHub(),null===(n=e(this,Rn,"f"))||void 0===n||n.destroy(),null===(i=e(this,Ln,"f"))||void 0===i||i.disconnect(),null===(t=e(this,Jn,"f"))||void 0===t||t.destroy(),null===(o=e(this,Qn,"f"))||void 0===o||o.destroy()}}Fn=new WeakMap,Nn=new WeakMap,Tn=new WeakMap,Un=new WeakMap,qn=new WeakMap,In=new WeakMap,Dn=new WeakMap,Ln=new WeakMap,Pn=new WeakMap,jn=new WeakMap,Hn=new WeakMap,On=new WeakMap,Rn=new WeakMap,Yn=new WeakMap,Vn=new WeakMap,Jn=new WeakMap,Qn=new WeakMap,Gn=new WeakMap,Kn=new WeakMap,Xn=new WeakMap,Zn=new WeakMap,ni=new WeakMap,ii=new WeakMap,ti=new WeakMap,oi=new WeakMap,ei=new WeakMap,Bn=new WeakSet,si=function(){return d(this,void 0,void 0,(function*(){try{o(this,oi,new u({["en"]:{follow_on_shop:{follow:"Follow on {shop}",following:"Following on {shop}",auth_modal:{title:"Follow on Shop",description:"Stay in the know—never miss a sale, restock, or order update."},following_modal:{title:"Visit {store} on Shop",subtitle:"Everything you need to shop, track, and pay—all in one place.",qr_header:"Scan to visit {store} on the Shop app",qr_alt_text:"Shop app QR code",continue:"Continue"},completed:{title:"You're following {store}",subtitle:"We've sent you an email with a link to download the Shop app."},personalization_consent:{title:"To follow on Shop, sync your shopping activity"}},login_with_shop:{login:"Sign in with {shop}",auth_modal:{login_title:"Sign in with Shop",login_title_with_store:"Sign in to {store} with Shop",login_description:"The easiest and most secure way to sign in to {store}—no password needed.",signup_title:"Create an account",signup_description:"Enter your phone number to create a Shop account.",login_sms_title:"Confirm it's you",login_sms_description:"Enter the code sent to {phoneNumber}",login_email_title:"Confirm it’s you",login_email_description:"Enter the code sent to your email, {email}",login_email_footer:"By continuing, your email address will be shared with {store}.",login_webauthn_title:"Confirm it’s you",login_webauthn_description:"Sign in with a passkey to securely use your saved information.",login_webauthn_footer:"By continuing, your email address will be shared with {store}."}},verified_email_auth:{auth_modal:{login_title:"Log in or sign up",signup_title:"Continue with Shop",signup_description:"Create a Shop account to sign in to {clientName}–no passwords needed"}},legal:{terms_of_service:"terms of service",privacy_policy:"privacy policy",terms:"terms",client:"See {clientName}’s {termsOfService} and {privacyPolicy}.",shop:"By continuing, you agree to Shop’s {termsOfService} and acknowledge the {privacyPolicy}.",authorized_scopes:{email:"By continuing, your email address will be shared with {store}.",email_name:"By continuing, your name and email address will be shared with {store}."}},checkout_modal:{auth_modal:{login_sms_description:"Enter the code sent to {phoneNumber} to securely use your saved information.",login_email_description:"Enter the code sent to your email, {email} to securely use your saved information."}},customer_accounts:{remember_me:"Save my info securely with Shop to sign in faster everywhere",sign_up_page:{auth_modal:{login_title:"Continue with Shop",login_description:"Use your Shop account to sign in everywhere—no password needed.",login_sms_description:"Use your Shop account to sign in everywhere—no password needed.\r\n\r\nConfirm it's you, enter the code sent to {phoneNumber}",login_email_description:"Use your Shop account to sign in everywhere—no password needed.\r\n\r\nConfirm it's you, enter the code sent to your email, {email}",login_webauthn_title:"Continue with Shop",login_webauthn_description:"Sign in with a passkey to securely use your saved information."}}},payment_request:{auth_modal:{login_title:"Check out with Shop Pay",login_description:"Use your saved information to check out securely at {store}.",login_sms_title:"Confirm it's you",login_sms_description:"Enter the code sent to {phoneNumber} to securely use your saved information.",login_email_title:"Confirm it’s you",login_email_description:"Enter the code sent to your email, {email} to securely use your saved information."}}}}),"f")}catch(n){n instanceof Error&&m.notify(n)}return null}))},li=function(){o(this,Pn,function(n){const i=document.createElement("follow-on-shop-button");return n&&i.setAttribute(gn,""),i}(e(this,jn,"f")),"f"),e(this,Fn,"f").innerHTML=M,e(this,Fn,"f").appendChild(e(this,Pn,"f"))},ai=function(){var n;e(this,Bn,"m",gi).call(this,e(this,jn,"f")),e(this,Bn,"m",vi).call(this),$(e(this,qn,"f")),null===(n=e(this,Pn,"f"))||void 0===n||n.addEventListener("click",(()=>{var n;if(e(this,In,"f"))return o(this,jn,!e(this,jn,"f"),"f"),void(null===(n=e(this,Pn,"f"))||void 0===n||n.setFollowing({following:e(this,jn,"f")}));e(this,jn,"f")?(e(this,Dn,"f").trackFollowingGetAppButtonPageImpression(),W()?e(this,Bn,"m",hi).call(this):e(this,Bn,"m",fi).call(this)):(e(this,Dn,"f").trackFollowButtonClicked(),e(this,Bn,"m",ri).call(this))}))},ri=function(){e(this,Gn,"f")?e(this,Bn,"m",ki).call(this):(o(this,Kn,e(this,Bn,"m",di).call(this),"f"),o(this,Xn,wn({}),"f"),e(this,Xn,"f").append(e(this,Bn,"m",ci).call(this)),o(this,Jn,K().withInnerHTML(M).build(),"f"),o(this,Gn,e(this,Jn,"f").sheetModal,"f"),e(this,Gn,"f").setAttribute(E,e(this,Nn,"f")),e(this,Gn,"f").appendChild(e(this,Kn,"f")),e(this,Gn,"f").appendChild(e(this,Xn,"f")),e(this,Gn,"f").addEventListener("modalcloserequest",e(this,Bn,"m",$i).bind(this)),o(this,Zn,Mi.Mounting,"f"))},hi=function(){var n,i,t;return d(this,void 0,void 0,(function*(){if(!e(this,ni,"f")){o(this,Qn,K().withInnerHTML(M).build(),"f"),o(this,ni,e(this,Qn,"f").sheetModal,"f"),e(this,ni,"f").setAttribute("disable-popup","true");const s=yield e(this,Bn,"m",bi).call(this),l=null!==(n=null==s?void 0:s.name)&&void 0!==n?n:"the store",a=null===(i=e(this,oi,"f"))||void 0===i?void 0:i.translate("follow_on_shop.following_modal.title",{store:l}),r=null===(t=e(this,oi,"f"))||void 0===t?void 0:t.translate("follow_on_shop.following_modal.subtitle");o(this,ii,wn({title:a,description:r},!0),"f"),e(this,ni,"f").appendChild(e(this,ii,"f")),e(this,ni,"f").appendChild(yield e(this,Bn,"m",pi).call(this)),e(this,ni,"f").addEventListener("modalcloserequest",(()=>d(this,void 0,void 0,(function*(){var n;e(this,ni,"f")&&(yield e(this,ni,"f").close()),null===(n=e(this,Pn,"f"))||void 0===n||n.setFocused()})))),a&&e(this,ni,"f").setAttribute("title",a)}e(this,ni,"f").open(),e(this,Dn,"f").trackFollowingGetAppButtonPageImpression()}))},di=function(){const n=document.createElement(zn);return e(this,Bn,"m",bi).call(this).then((i=>{n.update({name:(null==i?void 0:i.name)||"",logoSrc:(null==i?void 0:i.id)?`${C}/shops/${i.id}/logo?width=58`:""})})).catch((()=>{})),n},ci=function(){var n;o(this,On,document.createElement("iframe"),"f"),e(this,On,"f").tabIndex=0,e(this,Bn,"m",ui).call(this);const i=(null===(n=this.ownerDocument)||void 0===n?void 0:n.defaultView)||void 0;return o(this,Rn,new z(new A(e(this,On,"f")),[B,F,e(this,qn,"f")],e(this,Bn,"m",Si).bind(this),i),"f"),o(this,Yn,new N(e(this,On,"f")),"f"),T(e(this,On,"f"),"allow","publickey-credentials-get *"),e(this,On,"f")},pi=function(){var n,i;return d(this,void 0,void 0,(function*(){const t=document.createElement("div"),o=yield e(this,Bn,"m",bi).call(this),s=null==o?void 0:o.id,l=null!==(i=null===(n=e(this,oi,"f"))||void 0===n?void 0:n.translate("follow_on_shop.following_modal.continue",{defaultValue:"Continue"}))&&void 0!==i?i:"",a=s?`https://shop.app/sid/${s}`:"#";return t.innerHTML=U(a,l),t.addEventListener("click",(()=>d(this,void 0,void 0,(function*(){var n;e(this,Dn,"f").trackFollowingGetAppButtonClicked(),null===(n=e(this,ni,"f"))||void 0===n||n.close()})))),t}))},fi=function(){var n,i,t,s,l,a,r;return d(this,void 0,void 0,(function*(){if(!e(this,ti,"f")){o(this,ti,document.createElement("div"),"f"),e(this,ti,"f").classList.add("fos-tooltip","fos-tooltip-hidden");const h=yield e(this,Bn,"m",bi).call(this),d=null!==(n=null==h?void 0:h.name)&&void 0!==n?n:"the store",c=null!==(t=null===(i=e(this,oi,"f"))||void 0===i?void 0:i.translate("follow_on_shop.following_modal.qr_header",{store:d}))&&void 0!==t?t:"",p=null!==(l=null===(s=e(this,oi,"f"))||void 0===s?void 0:s.translate("follow_on_shop.following_modal.qr_alt_text"))&&void 0!==l?l:"",f=null==h?void 0:h.id,u=f?`${C}/qr/sid/${f}`:"#";e(this,ti,"f").innerHTML=q(c,u,p),null===(a=e(this,ti,"f").querySelector(".fos-tooltip-overlay"))||void 0===a||a.addEventListener("click",(()=>{var n;null===(n=e(this,ti,"f"))||void 0===n||n.classList.toggle("fos-tooltip-hidden",!0)})),null===(r=e(this,ti,"f"))||void 0===r||r.addEventListener("click",(()=>{var n;null===(n=e(this,ti,"f"))||void 0===n||n.classList.toggle("fos-tooltip-hidden",!0)})),e(this,Fn,"f").appendChild(e(this,ti,"f"))}e(this,ti,"f").classList.toggle("fos-tooltip-hidden",!1)}))},ui=function(n){if(e(this,On,"f")){const i={clientId:e(this,Tn,"f"),responseType:"code"},t=I({version:e(this,Un,"f"),analyticsTraceId:e(this,Nn,"f"),flow:D.Follow,oauthParams:i});e(this,Bn,"m",mi).call(this),T(e(this,On,"f"),"src",t,n),m.leaveBreadcrumb("Iframe url updated",{authorizeUrl:t},"state")}},mi=function(){e(this,Bn,"m",wi).call(this),o(this,Vn,setTimeout((()=>{const n=O.temporarilyUnavailable;this.dispatchCustomEvent("error",{message:n.message,code:n.code}),e(this,Bn,"m",wi).call(this)}),L),"f")},wi=function(){e(this,Vn,"f")&&(clearTimeout(e(this,Vn,"f")),o(this,Vn,void 0,"f"))},gi=function(n){e(this,Dn,"f").trackFollowButtonPageImpression(n)},vi=function(){o(this,Ln,new IntersectionObserver((n=>{var i;for(const{isIntersecting:t}of n)t&&(null===(i=e(this,Ln,"f"))||void 0===i||i.disconnect(),e(this,Dn,"f").trackFollowButtonInViewport())})),"f"),e(this,Ln,"f").observe(e(this,Pn,"f"))},bi=function(){return d(this,void 0,void 0,(function*(){return e(this,Hn,"f")||o(this,Hn,yield P(e(this,qn,"f")),"f"),e(this,Hn,"f")}))},yi=function({loggedIn:n,shouldFinalizeLogin:i,email:t,givenNameFirstInitial:s,avatar:l}){var a,r,h,c;return d(this,void 0,void 0,(function*(){const d=new Date;d.setTime(d.getTime()+31536e6),document.cookie=`${Wi}=true;expires=${d.toUTCString()};path=/`,n&&i&&(R(e(this,qn,"f"),(n=>{m.notify(new Error(n))})),this.publishToHub(S.UserSessionCreate,{email:s||t,initial:s||(null==t?void 0:t[0])||"",avatar:l})),this.dispatchCustomEvent("completed",{loggedIn:n,email:t}),yield null===(a=e(this,Kn,"f"))||void 0===a?void 0:a.setFavorited(),yield null===(r=e(this,Gn,"f"))||void 0===r?void 0:r.close(),null===(h=e(this,Rn,"f"))||void 0===h||h.destroy(),null===(c=e(this,Pn,"f"))||void 0===c||c.setFollowing({following:!0}),o(this,jn,!0,"f"),e(this,Bn,"m",gi).call(this,!0)}))},_i=function(n,i,t){e(this,Bn,"m",wi).call(this),this.dispatchCustomEvent("error",{code:n,message:i,email:t})},xi=function({clientName:n,logoSrc:i}){return d(this,void 0,void 0,(function*(){(n||i)&&e(this,Kn,"f").update({name:n,logoSrc:i}),e(this,Zn,"f")===Mi.Mounting&&(e(this,Bn,"m",ki).call(this),o(this,Zn,Mi.Open,"f"),e(this,Bn,"m",wi).call(this))}))},ki=function(){var n;return d(this,void 0,void 0,(function*(){(yield e(this,Gn,"f").open())&&(null===(n=e(this,Yn,"f"))||void 0===n||n.postMessage({type:"sheetmodalopened"}))}))},$i=function(){var n,i;return d(this,void 0,void 0,(function*(){if(e(this,Gn,"f")){(yield e(this,Gn,"f").close())&&(null===(n=e(this,Yn,"f"))||void 0===n||n.postMessage({type:"sheetmodalclosed"}),j())}null===(i=e(this,Pn,"f"))||void 0===i||i.setFocused()}))},Si=function(n){var i,t,o,s;switch(n.type){case"loaded":e(this,Bn,"m",xi).call(this,n);break;case"resize_iframe":e(this,On,"f").style.height=`${n.height}px`,e(this,On,"f").style.width=`${H(n.width,e(this,On,"f"))}px`;break;case"completed":e(this,Bn,"m",yi).call(this,n);break;case"error":e(this,Bn,"m",_i).call(this,n.code,n.message,n.email);break;case"content":null===(i=e(this,Gn,"f"))||void 0===i||i.setAttribute("title",n.title),null===(t=e(this,Xn,"f"))||void 0===t||t.update(n),null===(o=e(this,Kn,"f"))||void 0===o||o.classList.toggle("hidden",n.authorizeState===l.Captcha);break;case"processing_status_updated":null===(s=e(this,Xn,"f"))||void 0===s||s.update(n);break;case"close_requested":e(this,Bn,"m",$i).call(this)}},Y()&&(V({bundle:"loginButton",bundleLocale:"en"}),J(),n("shop-follow-button",Ei),Q(),n("shop-swirl",G));
//# sourceMappingURL=client.login-button_413c02c8.en.esm.js.map
